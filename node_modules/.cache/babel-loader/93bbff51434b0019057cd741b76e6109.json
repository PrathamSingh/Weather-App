{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.msg = msg;\nexports.access = access;\nexports.assertRootMode = assertRootMode;\nexports.assertSourceMaps = assertSourceMaps;\nexports.assertCompact = assertCompact;\nexports.assertSourceType = assertSourceType;\nexports.assertCallerMetadata = assertCallerMetadata;\nexports.assertInputSourceMap = assertInputSourceMap;\nexports.assertString = assertString;\nexports.assertFunction = assertFunction;\nexports.assertBoolean = assertBoolean;\nexports.assertObject = assertObject;\nexports.assertArray = assertArray;\nexports.assertIgnoreList = assertIgnoreList;\nexports.assertConfigApplicableTest = assertConfigApplicableTest;\nexports.assertConfigFileSearch = assertConfigFileSearch;\nexports.assertBabelrcSearch = assertBabelrcSearch;\nexports.assertPluginList = assertPluginList;\n\nfunction msg(loc) {\n  switch (loc.type) {\n    case \"root\":\n      return \"\";\n\n    case \"env\":\n      return \"\".concat(msg(loc.parent), \".env[\\\"\").concat(loc.name, \"\\\"]\");\n\n    case \"overrides\":\n      return \"\".concat(msg(loc.parent), \".overrides[\").concat(loc.index, \"]\");\n\n    case \"option\":\n      return \"\".concat(msg(loc.parent), \".\").concat(loc.name);\n\n    case \"access\":\n      return \"\".concat(msg(loc.parent), \"[\").concat(JSON.stringify(loc.name), \"]\");\n\n    default:\n      throw new Error(\"Assertion failure: Unknown type \".concat(loc.type));\n  }\n}\n\nfunction access(loc, name) {\n  return {\n    type: \"access\",\n    name,\n    parent: loc\n  };\n}\n\nfunction assertRootMode(loc, value) {\n  if (value !== undefined && value !== \"root\" && value !== \"upward\" && value !== \"upward-optional\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a \\\"root\\\", \\\"upward\\\", \\\"upward-optional\\\" or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertSourceMaps(loc, value) {\n  if (value !== undefined && typeof value !== \"boolean\" && value !== \"inline\" && value !== \"both\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a boolean, \\\"inline\\\", \\\"both\\\", or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertCompact(loc, value) {\n  if (value !== undefined && typeof value !== \"boolean\" && value !== \"auto\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a boolean, \\\"auto\\\", or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertSourceType(loc, value) {\n  if (value !== undefined && value !== \"module\" && value !== \"script\" && value !== \"unambiguous\") {\n    throw new Error(\"\".concat(msg(loc), \" must be \\\"module\\\", \\\"script\\\", \\\"unambiguous\\\", or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertCallerMetadata(loc, value) {\n  const obj = assertObject(loc, value);\n\n  if (obj) {\n    if (typeof obj[\"name\"] !== \"string\") {\n      throw new Error(\"\".concat(msg(loc), \" set but does not contain \\\"name\\\" property string\"));\n    }\n\n    for (const prop of Object.keys(obj)) {\n      const propLoc = access(loc, prop);\n      const value = obj[prop];\n\n      if (value != null && typeof value !== \"boolean\" && typeof value !== \"string\" && typeof value !== \"number\") {\n        throw new Error(\"\".concat(msg(propLoc), \" must be null, undefined, a boolean, a string, or a number.\"));\n      }\n    }\n  }\n\n  return value;\n}\n\nfunction assertInputSourceMap(loc, value) {\n  if (value !== undefined && typeof value !== \"boolean\" && (typeof value !== \"object\" || !value)) {\n    throw new Error(\"\".concat(msg(loc), \" must be a boolean, object, or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertString(loc, value) {\n  if (value !== undefined && typeof value !== \"string\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a string, or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertFunction(loc, value) {\n  if (value !== undefined && typeof value !== \"function\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a function, or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertBoolean(loc, value) {\n  if (value !== undefined && typeof value !== \"boolean\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a boolean, or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertObject(loc, value) {\n  if (value !== undefined && (typeof value !== \"object\" || Array.isArray(value) || !value)) {\n    throw new Error(\"\".concat(msg(loc), \" must be an object, or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertArray(loc, value) {\n  if (value != null && !Array.isArray(value)) {\n    throw new Error(\"\".concat(msg(loc), \" must be an array, or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertIgnoreList(loc, value) {\n  const arr = assertArray(loc, value);\n\n  if (arr) {\n    arr.forEach((item, i) => assertIgnoreItem(access(loc, i), item));\n  }\n\n  return arr;\n}\n\nfunction assertIgnoreItem(loc, value) {\n  if (typeof value !== \"string\" && typeof value !== \"function\" && !(value instanceof RegExp)) {\n    throw new Error(\"\".concat(msg(loc), \" must be an array of string/Funtion/RegExp values, or undefined\"));\n  }\n\n  return value;\n}\n\nfunction assertConfigApplicableTest(loc, value) {\n  if (value === undefined) return value;\n\n  if (Array.isArray(value)) {\n    value.forEach((item, i) => {\n      if (!checkValidTest(item)) {\n        throw new Error(\"\".concat(msg(access(loc, i)), \" must be a string/Function/RegExp.\"));\n      }\n    });\n  } else if (!checkValidTest(value)) {\n    throw new Error(\"\".concat(msg(loc), \" must be a string/Function/RegExp, or an array of those\"));\n  }\n\n  return value;\n}\n\nfunction checkValidTest(value) {\n  return typeof value === \"string\" || typeof value === \"function\" || value instanceof RegExp;\n}\n\nfunction assertConfigFileSearch(loc, value) {\n  if (value !== undefined && typeof value !== \"boolean\" && typeof value !== \"string\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a undefined, a boolean, a string, \") + \"got \".concat(JSON.stringify(value)));\n  }\n\n  return value;\n}\n\nfunction assertBabelrcSearch(loc, value) {\n  if (value === undefined || typeof value === \"boolean\") return value;\n\n  if (Array.isArray(value)) {\n    value.forEach((item, i) => {\n      if (!checkValidTest(item)) {\n        throw new Error(\"\".concat(msg(access(loc, i)), \" must be a string/Function/RegExp.\"));\n      }\n    });\n  } else if (!checkValidTest(value)) {\n    throw new Error(\"\".concat(msg(loc), \" must be a undefined, a boolean, a string/Function/RegExp \") + \"or an array of those, got \".concat(JSON.stringify(value)));\n  }\n\n  return value;\n}\n\nfunction assertPluginList(loc, value) {\n  const arr = assertArray(loc, value);\n\n  if (arr) {\n    arr.forEach((item, i) => assertPluginItem(access(loc, i), item));\n  }\n\n  return arr;\n}\n\nfunction assertPluginItem(loc, value) {\n  if (Array.isArray(value)) {\n    if (value.length === 0) {\n      throw new Error(\"\".concat(msg(loc), \" must include an object\"));\n    }\n\n    if (value.length > 3) {\n      throw new Error(\"\".concat(msg(loc), \" may only be a two-tuple or three-tuple\"));\n    }\n\n    assertPluginTarget(access(loc, 0), value[0]);\n\n    if (value.length > 1) {\n      const opts = value[1];\n\n      if (opts !== undefined && opts !== false && (typeof opts !== \"object\" || Array.isArray(opts))) {\n        throw new Error(\"\".concat(msg(access(loc, 1)), \" must be an object, false, or undefined\"));\n      }\n    }\n\n    if (value.length === 3) {\n      const name = value[2];\n\n      if (name !== undefined && typeof name !== \"string\") {\n        throw new Error(\"\".concat(msg(access(loc, 2)), \" must be a string, or undefined\"));\n      }\n    }\n  } else {\n    assertPluginTarget(loc, value);\n  }\n\n  return value;\n}\n\nfunction assertPluginTarget(loc, value) {\n  if ((typeof value !== \"object\" || !value) && typeof value !== \"string\" && typeof value !== \"function\") {\n    throw new Error(\"\".concat(msg(loc), \" must be a string, object, function\"));\n  }\n\n  return value;\n}","map":null,"metadata":{},"sourceType":"script"}